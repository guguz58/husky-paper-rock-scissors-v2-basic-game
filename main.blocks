<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Rhhx#|XWk7z{v`rt0t:)">Result</variable><variable id="^dt1$kiov*.K,eYTTsl=">Player</variable><variable id="Mz(-oys5kw8`wn(m+omp">Maqueen</variable><variable id="g8(]G!:80RFz8)+FlTu}">Rock</variable><variable id="drLc)K(}26K-HuxFPI%N">Scissors</variable><variable id="=+=Z:s7K8{C2j|@ON]1@">Paper</variable></variables><block type="device_button_event" id="*gR%R@T:Z8StSeIe_JZP" x="989" y="-403"><field name="NAME">Button.A</field><comment pinned="false" h="242" w="565">When Button A pressed do....

Set player to 999 in case Husky does  not recognise anything  

Set MaQueen to random of -1,0,1 ( Paper, Rock , Scissors)

Set Player to 0,-1,1 ( Rock, Paper, Scissors) depending on what ID Husky sees

If Player = 999 ( nothing in Husky view ) show sad face on MicroBit &amp; Display "Anyone There ? " on Husky Screen

Otherwise call "compare " function to work out who won . ..
If Draw display "D" on MicroBit &amp; "Draw" on Husky
If Maqueen show "M" on MicroBit &amp; "MaQueen Wins" on Husky
If Player display "P" on MicroBit &amp; "Player Wins" on Husky</comment><statement name="HANDLER"><block type="variables_set" id="(w5W0#UhTH?pZ{fCSQ(9"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field><value name="VALUE"><shadow type="math_number" id="?cbWfo}oyDOJB3-fm`+*"><field name="NUM">999</field></shadow></value><next><block type="variables_set" id="1`og]T4!%+9Sn6H}u$ck"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field><value name="VALUE"><shadow type="math_number" id="92CC3|WFkn8x_^:Bhn]]"><field name="NUM">2</field></shadow><block type="device_random" id="fzXw/qpTN@dw:vXG*$mr"><value name="min"><shadow type="math_number" id="WyqeG{wX5gi*jF]eaWhH"><field name="NUM">-1</field></shadow></value><value name="limit"><shadow type="math_number" id="%WaeqZyaga6f{%K#Qi%X"><field name="NUM">1</field></shadow></value></block></value><next><block type="controls_if" id="+WKf@pR~YOW[$lHM4NwT"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean" id="A[nvQg,%HP:-(cWi}AP%" disabled-reasons="MANUALLY_DISABLED"><field name="BOOL">TRUE</field></shadow><block type="huskylens_isAppear" id="/cXL8LH;-4eX}_$p$**S"><field name="Ht">HUSKYLENSResultType_t.HUSKYLENSResultBlock</field><value name="id"><shadow type="math_number" id="4tx}|H($w,8Ajdlrr([t"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="U_78;cU|6T~X3!EqZJj@"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field><value name="VALUE"><shadow type="math_number" id="oi8VZ-r?;RWS2[2gt[GP" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="A-[}D$,?lYJsD)IgR=?*"><field name="VAR" id="g8(]G!:80RFz8)+FlTu}">Rock</field></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="Pf-/Pv(eL8G4]to;z90c"><field name="BOOL">FALSE</field></shadow><block type="huskylens_isAppear" id="aaaclnrsdQ.jCxsaPL~#"><field name="Ht">HUSKYLENSResultType_t.HUSKYLENSResultBlock</field><value name="id"><shadow type="math_number" id="x:^R7sc9kmB7ZgVTh%|b"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="1x2iGK,suK4QZg;*oId5"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field><value name="VALUE"><shadow type="math_number" id="Q[N7U7qwoe%534!_0|A1" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="5OG5qcT4Q#}.TA$B;/C4"><field name="VAR" id="=+=Z:s7K8{C2j|@ON]1@">Paper</field></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="r!ckc{nf[y8hIB_bT)@|"><field name="BOOL">FALSE</field></shadow><block type="huskylens_isAppear" id="kd@ELbmKm9SYjphTU}[#"><field name="Ht">HUSKYLENSResultType_t.HUSKYLENSResultBlock</field><value name="id"><shadow type="math_number" id="NhrPS`NXV@~U!)C{|NBY"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id="L*a2xN~cXD5*(p}lh$X+"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field><value name="VALUE"><shadow type="math_number" id="10IEv%rX#oFn:RbH8pHL" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="CEWq83ItIY$jp7nTpJ:="><field name="VAR" id="drLc)K(}26K-HuxFPI%N">Scissors</field></block></value></block></statement><next><block type="controls_if" id="5C)V6?UxWOP8[y?Bj{d`"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="]kfxq6x#ivUx~ioTsi}c" disabled-reasons="MANUALLY_DISABLED"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="O=a#tO;uTyvUDOxYjMyE"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="m;p.LBjVZ|@eg.(DBaGG" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="R:JMocg6!/Sv4,)q_Coi"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value><value name="B"><shadow type="math_number" id="2%AB6@)8_!=a*2:dw]8n"><field name="NUM">999</field></shadow></value></block></value><statement name="DO0"><block type="device_clear_display" id="`{H2(r^96]J#%U=;FANB"><next><block type="function_call" id="oD5)hb7_=;]e]_aLt!@T"><mutation name="Compare" functionid="03KFzHoJig=?fTLd(7J%"></mutation><next><block type="controls_if" id="*847#0GB]TS[c.I006cH"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean" id="r-Z-fXh|y1|W8KX).=I:" disabled-reasons="MANUALLY_DISABLED"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qj$v4DHCACPp!Yq~4@1U"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="mZX/Y1,8ggb[/Bqr()O!" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="XUW85FNv_-+@V+Xo[62a"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field></block></value><value name="B"><shadow type="math_number" id="|u.fL@fKgAyn^gn6?BiC"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="device_print_message" id="V?]r(:.MIbhjzTWHXEo]"><value name="text"><shadow type="text" id="?S%x|D1-sHu]XHB0SE`c"><field name="TEXT">D</field></shadow></value><next><block type="huskylens_writeOSD" id=";J9yQk{%H7z;Z9Erb!4%"><value name="name"><shadow type="text" id="*jF]A]v^6NX8YdPR1QyK"><field name="TEXT">Its A Draw!</field></shadow></value><value name="x"><shadow type="math_number_minmax" id="#FGkg$1n8!_TrC#_Y0oH"><mutation min="0" max="319" label="X" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="+4-=20#~U-S0PQHb.m$~"><mutation min="0" max="210" label="Y" precision="0"></mutation><field name="SLIDER">100</field></shadow></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="Z%shqqA6VJwrp[{P,+8c"><field name="BOOL">FALSE</field></shadow><block type="logic_compare" id="46`U9LH[c!J.BS53)^fy"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="yf]D%m^WVL;VWaQ[VQh|" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="gqXy:U6)aJ%1Vb4[q;DZ"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field></block></value><value name="B"><shadow type="math_number" id="EG9RHgi96.$}2VM#H.{3" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">2</field></shadow><block type="variables_get" id="oX4YgC/sh]zivR,E;kLq"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field></block></value></block></value><statement name="DO1"><block type="device_print_message" id="`#/SzD(k%-WEZq}PqvdQ"><value name="text"><shadow type="text" id="I4fMGA!;@#tnV@r9H_H:"><field name="TEXT">M</field></shadow></value><next><block type="huskylens_writeOSD" id="u=1/.Tkw2z@NkHF19qPO"><value name="name"><shadow type="text" id="!U6U|={==1_.N!X/_xOT"><field name="TEXT">MaQueen Wins!</field></shadow></value><value name="x"><shadow type="math_number_minmax" id=")%Q0d9TRWZ0gQ3^C!N@K"><mutation min="0" max="319" label="X" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="sBU8Z2nf9[@DlV}wY0X3"><mutation min="0" max="210" label="Y" precision="0"></mutation><field name="SLIDER">100</field></shadow></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="5sUep9n.`i.oSnHmZ|`e"><field name="BOOL">FALSE</field></shadow><block type="logic_compare" id="u|_MSqe[-CxerW]50g`K"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="t++9+?`*@i!Z:GsC[MF(" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">0</field></shadow><block type="variables_get" id="NvHG3BZSNi!6I0%6:S9E"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field></block></value><value name="B"><shadow type="math_number" id="(rHr^bFgJZ);R)Wz5g!R" disabled-reasons="MANUALLY_DISABLED"><field name="NUM">2</field></shadow><block type="variables_get" id="Y/NDDBhR-zPFg$5,[fo$"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value></block></value><statement name="DO2"><block type="device_print_message" id="#Dp0LC+8k)Exe$T(.@1R"><value name="text"><shadow type="text" id="Jg,jTOcQxvdN.68z_M9J"><field name="TEXT">P</field></shadow></value><next><block type="huskylens_writeOSD" id="8LX]$]#m1OMEI7}`tv5e"><value name="name"><shadow type="text" id="SC{x2dkabO,b~|fmD)M9"><field name="TEXT">Player Wins!!</field></shadow></value><value name="x"><shadow type="math_number_minmax" id="/+%s9sMHUr3$C*8yKRL4"><mutation min="0" max="319" label="X" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="aGTZ0|zKdCXc6=sFYAvo"><mutation min="0" max="210" label="Y" precision="0"></mutation><field name="SLIDER">100</field></shadow></value></block></next></block></statement></block></next></block></next></block></statement><statement name="ELSE"><block type="basic_show_icon" id="OiCakc^-]4[8_?Z_M3k["><field name="i">IconNames.Sad</field><next><block type="huskylens_writeOSD" id="qxgoSYJ4EA3O3BAO+m#t"><value name="name"><shadow type="text" id="1c33HhY*%+mocWC)]]x/"><field name="TEXT">Anyone There?</field></shadow></value><value name="x"><shadow type="math_number_minmax" id="kw3Wc$V1{X5oDs.qa1Q+"><mutation min="0" max="319" label="X" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="d-0xDRlG#Nh^RK[.k[DS"><mutation min="0" max="210" label="Y" precision="0"></mutation><field name="SLIDER">100</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="jq;pX)R@m?A!neH=CWfP" x="380" y="-170"><mutation name="Compare" functionid="03KFzHoJig=?fTLd(7J%"></mutation><field name="function_name">Compare</field><comment pinned="false" h="299" w="298">Function to work out who wins / draw

Algorithm is by Jeffrey  from "Never To Late To Learn" Website
shorturl.at/afrzC</comment><statement name="STACK"><block type="variables_set" id="m#_[m*cm#.w*7xUAl3/#"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field><comment pinned="false" h="80" w="160">If Result = 2 then game is a Draw</comment><value name="VALUE"><shadow type="math_number" id="VbBG*km~HX1J/:!Jk|;]"><field name="NUM">2</field></shadow></value><next><block type="controls_if" id="$?u9D$?W|@^K!5:w9T$x"><value name="IF0"><shadow type="logic_boolean" id="+Wl~n$B6gTm]d1+OF:}B"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@faO|vPye}iZYE@#g~zb"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="3wQ,j:_|ZrG:c*AkuJCh"><field name="NUM">0</field></shadow><block type="variables_get" id="eQ2N8QCTGq_.VTKN*RbP"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value><value name="B"><shadow type="math_number" id="rjEp+xnV2!z=gUcgdLm@"><field name="NUM">0</field></shadow><block type="variables_get" id="c?;)nr~PAwzKO!Teza|i"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="~},~;*Rl0s1+|^XCnG#m"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="z(:x53?ctB?d~Jr_BJQ."><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="owI@14k3O:h5}UXcMWw@"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="0|GC6I_MN*yZVy(Dgoy$"><field name="NUM">0</field></shadow><block type="math_op3" id="A8Xadms0|t,rIG)_A}}`"><value name="x"><block type="variables_get" id="~)ndx=|_0lxXb8J~(1Uf"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value></block></value><value name="B"><shadow type="math_number" id=":d5bX6BCv^$r]Ve0IaQB"><field name="NUM">0</field></shadow><block type="math_op3" id="eRFv_yEK)_kcn[-2}Kel"><value name="x"><block type="variables_get" id=")Ux-f;iP;9Jy4IT97+%S"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="/%|{G$!r:`+B(RS?0Iv)"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field><value name="VALUE"><shadow type="math_number" id="l`KqpOJ=9?rIk(ctM;-."><field name="NUM">0</field></shadow><block type="math_op2" id="KfkP6B#m(g#H1~pI2f2@"><field name="op">max</field><value name="x"><block type="variables_get" id="IP}^C(gvebEU_.GZ33em"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value><value name="y"><block type="variables_get" id="vacn*0{ZHqe}WDeBdKuI"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field></block></value></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="XNVWH*IDfC2@2]#h1iCt"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field><value name="VALUE"><shadow type="math_number" id="I$/)F)Ixm/LPdJ,#)LCQ"><field name="NUM">0</field></shadow><block type="math_op2" id="zkklZ~Q/#|X}evDqLo6a"><field name="op">min</field><value name="x"><block type="variables_get" id="{Eb_id5|S!]08dPu`UAs"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field></block></value><value name="y"><block type="variables_get" id="C+`cS5zo0=jXP1UT!^df"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field></block></value></block></value></block></statement></block></statement></block></next></block></statement></block><block type="device_forever" id="y..^m)/zwg~72,!n8:H," x="-263" y="-117"><comment pinned="false" h="80" w="160">Get rID result of what Husky sees ( if known )</comment><statement name="HANDLER"><block type="huskylens_request" id="2*,GoQ{B*f20;aq?s+G|"></block></statement></block><block type="pxt-on-start" id="wg|Y~,1;=bx.ugyy}jbI" x="-255" y="120"><comment pinned="false" h="398" w="341">Initialise connection to Husky

If successful switch to "Object Classification " mode
Clear Husky Display  

Set Name for Each Husky Id ( not necessary but helps )
Display "Rock Paper Scissors " on Husky screen 

Initialise variables</comment><statement name="HANDLER"><block type="huskylens_initI2c" id="g.xj8*8DUzd;nTbqwW7D"><next><block type="huskylens_initMode" id="Z.Z^WVHZJ1Ov1u$R#z56"><field name="mode">protocolAlgorithm.OBJECTCLASSIFICATION</field><next><block type="huskylens_clearOSD" id="1Qt_Q!/89KziHkgkg*UB"><next><block type="huskylens_writeName" id="N0gZ{P|TImG}l83o2uUv"><value name="id"><shadow type="math_number" id="i4o1}E-@*ThOs^X/1f@G"><field name="NUM">1</field></shadow></value><value name="name"><shadow type="text" id="qI/Amsvq77K_T5q*Q3|V"><field name="TEXT">Rock</field></shadow></value><next><block type="huskylens_writeName" id="~FB9z9sg]Yru?4b6%t,H"><value name="id"><shadow type="math_number" id="hk7){$~`0h.i.,g`o%Ar"><field name="NUM">2</field></shadow></value><value name="name"><shadow type="text" id="Owwh9?|]9RK]}4Th4hQS"><field name="TEXT">Paper</field></shadow></value><next><block type="huskylens_writeName" id=":YD@d,0p5n%2pv5dqE`t"><value name="id"><shadow type="math_number" id="ptVQ?D4EOPm.We6.%9iM"><field name="NUM">3</field></shadow></value><value name="name"><shadow type="text" id="Jbo*Xwiir[Up:y]=hn{e"><field name="TEXT">Scissors</field></shadow></value><next><block type="huskylens_writeOSD" id="fJ+zhq9CYkd0X;`:+!QP"><value name="name"><shadow type="text" id="?T2QV.LIw+sAv%I.s@mf"><field name="TEXT">Rock paper Scissors</field></shadow></value><value name="x"><shadow type="math_number_minmax" id="?=6fPNwX$WcdaPq;|?%z"><mutation min="0" max="319" label="Number" precision="0"></mutation><field name="SLIDER">75</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="P_l1T5#bVGrZUw`v1~Ij"><mutation min="0" max="210" label="Number" precision="0"></mutation><field name="SLIDER">30</field></shadow></value><next><block type="device_pause" id="Rk=IjX0;RR^2E,YGEE-Z"><value name="pause"><shadow type="timePicker" id="A3rjW_.)1Z2.;Nh]Tn(_"><field name="ms">2000</field></shadow></value><next><block type="variables_set" id="ed9!YzRG3iZAAx*hA|e5"><field name="VAR" id="g8(]G!:80RFz8)+FlTu}">Rock</field><value name="VALUE"><shadow type="math_number" id="2]7([H?RMfpDgjf$h~VI"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="m9bP~yU^t~ho3VG;Zw7e"><field name="VAR" id="=+=Z:s7K8{C2j|@ON]1@">Paper</field><value name="VALUE"><shadow type="math_number" id="*ViYMj-so66GHm5DqEP="><field name="NUM">-1</field></shadow></value><next><block type="variables_set" id="N(j1r4Bn%fr4TTmQXmUV"><field name="VAR" id="drLc)K(}26K-HuxFPI%N">Scissors</field><value name="VALUE"><shadow type="math_number" id="2?Ei]`%t$-P1N7Jor;l7"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id=")]KFA+S9ua=@VytIB,7V"><field name="VAR" id="Mz(-oys5kw8`wn(m+omp">Maqueen</field><value name="VALUE"><shadow type="math_number" id="=$XJ=/v$]Hn@e)t-1~wI"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="]9=fE$z/RYy4?Hz4%bu/"><field name="VAR" id="^dt1$kiov*.K,eYTTsl=">Player</field><value name="VALUE"><shadow type="math_number" id="#*n8G+?ri,eya3^94d!c"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id=":!rxMqx/zc}-?qga}Xsm"><field name="VAR" id="Rhhx#|XWk7z{v`rt0t:)">Result</field><value name="VALUE"><shadow type="math_number" id="jr1a[@WGZnJ-d2XZUG?W"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>